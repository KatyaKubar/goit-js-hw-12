{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/gallery.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const getImages = async function (searchValue, countPage) {\n  const API_KEY = '42001706-084c655b89d9d100c07cefb17';\n  const url = 'https://pixabay.com/api/';\n  const response = await axios.get(url, {\n    params: {\n      key: API_KEY,\n      q: searchValue,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page: countPage,\n      per_page: 40,\n    },\n  });\n  return response.data;\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const renderGallery = (data, lightbox) => {\n  const markup = data.map(item => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = item;\n    return `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=${largeImageURL}>\n                <img src=${webformatURL} alt=\"${tags}\" /></a>\n                    <ul class=\"image-desc\">\n                        <li class=\"image-desc-item\"><p>Likes</p><p>${likes}</p></li>\n                        <li class=\"image-desc-item\"><p>Views</p><p>${views}</p></li>\n                        <li class=\"image-desc-item\"><p>Comments</p><p>${comments}</p></li>\n                        <li class=\"image-desc-item\"><p>Downloads</p><p>${downloads}</p></li>\n                    </ul>\n            </li>`;\n  });\n\n  return markup.join('');\n};\n","import { getImages } from './js/api.js';\nimport { renderGallery } from './js/gallery.js';\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loadBtn = document.querySelector('.load-btn');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\nlet countPage = 1;\nlet searchValue;\n\nform.addEventListener('submit', onSearchImages);\nloadBtn.addEventListener('click', onLoadImages);\n\nasync function onSearchImages(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  loader.classList.remove('hidden');\n  loadBtn.classList.add('hidden');\n  searchValue = form.elements.q.value.trim();\n  countPage = 1;\n  try {\n    if (searchValue !== '') {\n      const data = await getImages(searchValue, countPage);\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          titleColor: '#FFFFFF',\n          messageColor: '#FFFFFF',\n        });\n      } else {\n        const galleryMarkup = renderGallery(data.hits, lightbox);\n        gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n        lightbox.refresh();\n        loadBtn.classList.remove('hidden');\n      }\n    } else {\n      iziToast.show({\n        message: 'Please fill out the search field',\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        titleColor: '#FFFFFF',\n        messageColor: '#FFFFFF',\n      });\n      loader.classList.add('hidden');\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    loader.classList.add('hidden');\n    form.reset();\n  }\n}\n\nasync function onLoadImages() {\n  loadBtn.classList.add('hidden');\n  loader.classList.remove('hidden');\n  countPage += 1;\n  try {\n    const data = await getImages(searchValue, countPage);\n    const galleryMarkup = renderGallery(data.hits, lightbox);\n    gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n    lightbox.refresh();\n    loadBtn.classList.remove('hidden');\n    if (data.totalHits - countPage * 40 <= 0) {\n      iziToast.show({\n        message: \"We're sorry, but you've reached the end of search results.\",\n        position: 'topRight',\n        backgroundColor: '#03a9f4',\n        titleColor: '#FFFFFF',\n        messageColor: '#FFFFFF',\n      });\n      loadBtn.classList.add('hidden');\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    loader.classList.add('hidden');\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n  });\n});\n\n"],"names":["getImages","searchValue","countPage","API_KEY","url","axios","renderGallery","data","lightbox","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loadBtn","loader","onSearchImages","onLoadImages","e","iziToast","galleryMarkup","error","SimpleLightbox"],"mappings":"owBAEO,MAAMA,EAAY,eAAgBC,EAAaC,EAAW,CAC/D,MAAMC,EAAU,qCACVC,EAAM,2BAYZ,OAXiB,MAAMC,EAAM,IAAID,EAAK,CACpC,OAAQ,CACN,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAU,EACX,CACL,CAAG,GACe,IAClB,ECbaI,EAAgB,CAACC,EAAMC,IACnBD,EAAK,IAAIE,GAAQ,CAC9B,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA,+CACoCE,CAAa;AAAA,2BACjCD,CAAY,SAASE,CAAI;AAAA;AAAA,qEAEiBC,CAAK;AAAA,qEACLC,CAAK;AAAA,wEACFC,CAAQ;AAAA,yEACPC,CAAS;AAAA;AAAA,kBAGlF,CAAG,EAEa,KAAK,EAAE,ECpBjBC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIZ,EACAN,EAAY,EACZD,EAEJgB,EAAK,iBAAiB,SAAUI,CAAc,EAC9CF,EAAQ,iBAAiB,QAASG,CAAY,EAE9C,eAAeD,EAAeE,EAAG,CAC/BA,EAAE,eAAc,EAChBL,EAAQ,UAAY,GACpBE,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAQ,UAAU,IAAI,QAAQ,EAC9BlB,EAAcgB,EAAK,SAAS,EAAE,MAAM,KAAI,EACxCf,EAAY,EACZ,GAAI,CACF,GAAID,IAAgB,GAAI,CACtB,MAAMM,EAAO,MAAMP,EAAUC,EAAaC,CAAS,EACnD,GAAIK,EAAK,KAAK,SAAW,EACvBiB,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,WAAY,UACZ,aAAc,SACxB,CAAS,MACI,CACL,MAAMC,EAAgBnB,EAAcC,EAAK,KAAMC,CAAQ,EACvDU,EAAQ,mBAAmB,YAAaO,CAAa,EACrDjB,EAAS,QAAO,EAChBW,EAAQ,UAAU,OAAO,QAAQ,CAClC,CACP,MACMK,EAAS,KAAK,CACZ,QAAS,mCACT,SAAU,WACV,gBAAiB,UACjB,WAAY,UACZ,aAAc,SACtB,CAAO,EACDJ,EAAO,UAAU,IAAI,QAAQ,CAEhC,OAAQM,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRN,EAAO,UAAU,IAAI,QAAQ,EAC7BH,EAAK,MAAK,CACX,CACH,CAEA,eAAeK,GAAe,CAC5BH,EAAQ,UAAU,IAAI,QAAQ,EAC9BC,EAAO,UAAU,OAAO,QAAQ,EAChClB,GAAa,EACb,GAAI,CACF,MAAMK,EAAO,MAAMP,EAAUC,EAAaC,CAAS,EAC7CuB,EAAgBnB,EAAcC,EAAK,KAAMC,CAAQ,EACvDU,EAAQ,mBAAmB,YAAaO,CAAa,EACrDjB,EAAS,QAAO,EAChBW,EAAQ,UAAU,OAAO,QAAQ,EAC7BZ,EAAK,UAAYL,EAAY,IAAM,IACrCsB,EAAS,KAAK,CACZ,QAAS,6DACT,SAAU,WACV,gBAAiB,UACjB,WAAY,UACZ,aAAc,SACtB,CAAO,EACDL,EAAQ,UAAU,IAAI,QAAQ,EAEjC,OAAQO,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRN,EAAO,UAAU,IAAI,QAAQ,CAC9B,CACH,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDZ,EAAW,IAAImB,EAAe,aAAc,CAC1C,aAAc,IACd,aAAc,KAClB,CAAG,CACH,CAAC"}